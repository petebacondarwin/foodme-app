{"version":3,"sources":["app/app.component.js","app/common/alert.service.js","app/common/checkbox-list.component.js","app/common/index.js","app/common/local-storage/local-storage-binding.service.js","app/common/local-storage/local-storage.service.js","app/common/rating.component.js","app/common/rating.filter.js","app/common/restaurants.service.js","app/common/shopping-cart/shopping-cart.component.js","app/common/shopping-cart/shopping-cart.service.js","app/common/toolbar.component.js","app/index.js","app/info/help.component.js","app/info/how-it-works.component.js","app/info/index.js","app/info/who-we-are.component.js","app/restaurants/index.js","app/restaurants/restaurant-detail.component.js","app/restaurants/restaurant-list.component.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('app/app', [])\n\n.config(function($stateProvider) {\n  $stateProvider\n    .state('restaurants', {\n      url: '/',\n      template: '<fm-restaurant-list></fm-restaurant-list>'\n    })\n    .state('restaurant-detail', {\n      url: '/restaurants/:id',\n      template: '<fm-restaurant-detail></fm-restaurant-detail>'\n    })\n    .state('how-it-works', {\n      url: '/how-it-works',\n      template: '<fm-how-it-works></fm-how-it-works>'\n    })\n    .state('who-we-are', {\n      url: '/who-we-are',\n      template: '<fm-who-we-are></fm-who-we-are>'\n    })\n    .state('help', {\n      url: '/help',\n      template: '<fm-help></fm-help>'\n    })\n})\n\n.component('app', {\n  templateUrl: 'app/app.template.html'\n});","","","angular.module('app/common', [\n  'app/common/toolbar',\n  'app/common/restaurants',\n  'app/common/rating-filter',\n  'app/common/rating-component'\n]);","angular.module('local-storage-binding', ['local-storage'])\n\n.factory('localStorageBinding', ['localStorage', '$rootScope', function(localStorage, $rootScope) {\n  return function(key, defaultValue) {\n    defaultValue = JSON.stringify(defaultValue || {});\n\n    var value = JSON.parse(localStorage[key] || defaultValue);\n\n    $rootScope.$watch(function() { return value; }, function() {\n      localStorage[key] = JSON.stringify(value);\n    }, true);\n\n    return value;\n  };\n}]);","angular.module('local-storage', [])\n\n.value('localStorage', window.localStorage)\n","angular.module('app/common/rating-component', [])\n\n.component('fmRating', {\n  bindings: {\n    label: '@',\n    glyph: '@',\n    rating: '<',\n    onSelect: '&'\n  },\n  controller: function() {\n    this.ratings = [1,2,3,4,5];\n    this.select = function(value) {\n      this.rating = value;\n      this.onSelect({value: value});\n    };\n    this.isSelected = function(value) {\n      return this.rating >= value;\n    };\n  },\n\n  template:\n    '<div>{{$ctrl.label}} ' +\n    '<ul class=\"fm-rating\">' +\n    '  <li ng-repeat=\"value in $ctrl.ratings\" ng-click=\"$ctrl.select(value)\" ' +\n    '      ng-class=\"{selected: $ctrl.isSelected(value)}\">' +\n    '    <span class=\"glyphicon glyphicon-{{$ctrl.glyph}}\"></span>' +\n    '  </li>' +\n    '</ul>' +\n    '<a ng-click=\"$ctrl.select(null)\">clear</a>' +\n    '</div>'\n});","angular.module('app/common/rating-filter', [])\n\n.filter('rating', function() {\n  return function(value, symbol) {\n    var output = \"\";\n    while(value>0) {\n      output += symbol;\n      value -= 1;\n    }\n    return output;\n  };\n});","angular.module('app/common/restaurants', [])\n\n.factory('restaurantService', function($http) {\n  // var url = 'https://foodme.firebaseio.com/.json'; // CORS enabled server\n  var url = 'data/restaurants.json'; // Local webserver\n\n  var promise;\n\n  return {\n    load: function() {\n      if (!promise) {\n        promise = $http.get(url).then(function(response) {\n          return response.data;\n        });\n      }\n      return promise;\n    }\n  };\n});","angular.module('shopping-cart-component', ['shopping-cart-service', 'alert'])\n\n.component('fmShoppingCart', {\n  templateUrl: 'app/common/shopping-cart/shopping-cart.template.html',\n  controller: FmShoppingCart\n});\n\nfunction FmShoppingCart(shoppingCart, alert) {\n  this.cart = shoppingCart;\n\n  this.items = function() {\n    return this.cart.items;\n  };\n\n  this.restaurant = function() {\n    return this.cart.restaurant;\n  };\n}\nFmShoppingCart.$inject = ['shoppingCart', 'alert']\n\n\nFmShoppingCart.prototype.add = function(choice, restaurant) {\n  if ( !this.cart.restaurant.id ) {\n    this.cart.restaurant = restaurant;\n  }\n\n  if ( this.cart.restaurant.id !== restaurant.id ) {\n    alert('You cannot mix items from different restaurant - clear the shopping cart first.');\n    return;\n  }\n\n  angular.forEach(this.cart.items, function(item) {\n    if (choice && choice.name === item.name) {\n      item.amount += 1;\n      choice = null;\n    }\n  });\n\n  if (choice) {\n    this.cart.items.push({\n      name: choice.name,\n      price: choice.price,\n      amount: 1\n    });\n  }\n};\n\nFmShoppingCart.prototype.remove = function(cartItem) {\n  var index = this.cart.items.indexOf(cartItem);\n  if ( index !== -1 ) {\n    this.cart.items.splice(index, 1);\n  }\n\n  if (this.cart.items.length === 0) {\n    this.cart.restaurant = {};\n  }\n};\n\nFmShoppingCart.prototype.total = function() {\n  var sum = 0;\n  angular.forEach(this.cart.items, function(item) {\n    sum += Number(item.price * item.amount);\n  });\n  return sum;\n};\n\nthis.reset = function() {\n  this.cart.items = [];\n  this.cart.restaurant = {};\n};\n","angular.module('shopping-cart-service', ['local-storage-binding'])\n\n.factory('shoppingCart', ['localStorageBinding', function(localStorageBinding) {\n  return localStorageBinding('fmShoppingCart', {\n    items: [],\n    restaurant: {}\n  });\n}])","angular.module('app/common/toolbar', [])\n\n.component('fmToolbar', {\n  templateUrl: 'app/common/toolbar.template.html'\n});","angular.module('app', [\n  'ngSanitize',\n  'ngMessageFormat',\n  'ngMaterial',\n  'ui.router',\n  'app/app',\n  'app/common',\n  'app/info',\n  'app/restaurants'\n])\n\n.config(function($locationProvider) {\n  $locationProvider.html5Mode(true);\n});","angular.module('app/info/help', [])\n.component('fmHelp', {\n  templateUrl: 'app/info/help.template.html'\n});","angular.module('app/info/how-it-works', [])\n\n.component('fmHowItWorks', {\n  templateUrl: 'app/info/how-it-works.template.html'\n});","angular.module('app/info', [\n  'app/info/how-it-works',\n  'app/info/who-we-are',\n  'app/info/help',\n]);","angular.module('app/info/who-we-are', [])\n.component('fmWhoWeAre', {\n  templateUrl: 'app/info/who-we-are.template.html'\n});","angular.module('app/restaurants', [\n  'app/restaurants/restaurant-list',\n  'app/restaurants/restaurant-detail'\n]);","angular.module('app/restaurants/restaurant-detail', [\n  'app/common/restaurants'\n])\n\n.component('fmRestaurantDetail', {\n  templateUrl: 'app/restaurants/restaurant-detail.template.html',\n  controller: FmRestaurantDetail\n});\n\nfunction FmRestaurantDetail(restaurantService, $state) {\n  this.restaurantService = restaurantService;\n  this.$state = $state;\n}\n\nFmRestaurantDetail.prototype.$onInit = function() {\n  var _this = this;\n  var restaurantId = this.$state.params.id;\n  this.restaurantService.load().then(function(restaurants) {\n    for(var i=0; i<restaurants.length; i++) {\n      if (restaurants[i].id == restaurantId) {\n        _this.restaurant = restaurants[i];\n        break;\n      }\n    }\n    if (!_this.restaurant) {\n      console.log('missing restaurant', restaurantId);\n      $location.path('/');\n    }\n  });\n};","angular.module('app/restaurants/restaurant-list', [\n  'app/common/restaurants'\n])\n\n.component('fmRestaurantList', {\n  templateUrl: 'app/restaurants/restaurant-list.template.html',\n  controller: RestaurantList\n});\n\nfunction RestaurantList(restaurantService) {\n  this.restaurantService = restaurantService;\n  this.sortProperty = 'name';\n  this.sortDirection = false;\n  this.filters = {\n    price: null,\n    rating: null\n  };\n}\n\nRestaurantList.prototype.$onInit = function() {\n  var _this = this;\n  this.restaurantService.load().then(function(restaurants) {\n    _this.restaurants = restaurants;\n    _this.filterRestaurants();\n  });\n};\n\n\n\nRestaurantList.prototype.sortBy = function(property) {\n  if ( this.sortProperty === property ) {\n    this.sortDirection = !this.sortDirection;\n  } else {\n    this.sortProperty = property;\n    this.sortDirection = false;\n  }\n};\n\nRestaurantList.prototype.getSortClass = function(property) {\n  if ( this.sortProperty === property ) {\n    return 'glyphicon glyphicon-chevron-' + (this.sortDirection ? 'down' : 'up');\n  }\n};\n\nRestaurantList.prototype.filterBy = function(field, value) {\n  this.filters[field] = value;\n  this.filterRestaurants();\n};\n\nRestaurantList.prototype.filterRestaurants = function() {\n  var _this = this;\n  this.filteredRestaurants = [];\n  this.restaurants.forEach(function(restaurant) {\n    if ( ( !_this.filters.rating || restaurant.rating >= _this.filters.rating ) &&\n          ( !_this.filters.price || restaurant.price <= _this.filters.price ) ) {\n      _this.filteredRestaurants.push(restaurant);\n    }\n  });\n};"]}